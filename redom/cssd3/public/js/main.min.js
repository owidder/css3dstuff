!function(){'use strict';var c=35,d=46;function f(a,b){var e,f,g,h=0,i=0;for(var j=0;j<=a.length;j++){var k=a.charCodeAt(j);if(k===c||k===d||!k){if(h===0)j===0?(e='div'):k?(e=a.substring(i,j)):(e=a);else{var l=a.substring(i,j);h===1?(f=l):g?(g+=' '+l):(g=l)}i=j+1;k===c?(h=1):(h=2)}}var m=b?document.createElementNS(b,e):document.createElement(e);f&&(m.id=f);g&&(b?m.setAttribute('class',g):(m.className=g));return m}var g=['onmount','onunmount'];function h(a,b,c){var d=r(a),e=r(b);b===e&&e.__redom_view&&(b=e.__redom_view);b!==e&&(e.__redom_view=b);var f=e.__redom_mounted,g=e.parentNode;f&&g!==d&&k(b,e,g);c!=null?d.insertBefore(e,r(c)):d.appendChild(e);j(b,e,d,g);return b}function i(a,b){var c=r(a),d=r(b);b===d&&d.__redom_view&&(b=d.__redom_view);k(b,d,c);c.removeChild(d);return b}function j(a,b,c,d){var e=b.__redom_lifecycle||(b.__redom_lifecycle={}),f=c===d,h=!1;for(var i=0;i<g.length;i++){var j=g[i];!f&&a!==b&&j in a&&(e[j]=(e[j]||0)+1);e[j]&&(h=!0)}if(!h){b.__redom_mounted=!0;return}var k=c,m=!1;(f||!m&&(k&&k.__redom_mounted))&&(l(b,f?'onremount':'onmount'),m=!0);if(f){return}while(k){var n=k.parentNode,o=k.__redom_lifecycle||(k.__redom_lifecycle={});for(var p in e)o[p]=(o[p]||0)+e[p];!m&&(k===document||n&&n.__redom_mounted)&&(l(k,f?'onremount':'onmount'),m=!0);k=n}}function k(a,b,c){var d=b.__redom_lifecycle;if(!d){b.__redom_mounted=!1;return}var e=c;b.__redom_mounted&&l(b,'onunmount');while(e){var f=e.__redom_lifecycle||(e.__redom_lifecycle={}),g=!1;for(var h in d)f[h]&&(f[h]-=d[h]),f[h]&&(g=!0);g||(e.__redom_lifecycle=null);e=e.parentNode}}function l(a,b){b==='onmount'?(a.__redom_mounted=!0):b==='onunmount'&&(a.__redom_mounted=!1);var c=a.__redom_lifecycle;if(!c){return}var d=a.__redom_view,e=0;d&&d[b]&&d[b]();for(var f in c)f&&e++;if(e){var g=a.firstChild;while(g){var h=g.nextSibling;l(g,b);g=h}}}function m(a,b,c){var d=r(a);if(c!==undefined)d.style[b]=c;else if(s(b))d.setAttribute('style',b);else{for(var e in b)m(d,e,b[e])}}function n(a,b,c){var d=r(a),e=d instanceof window.SVGElement;if(c!==undefined)b==='style'?m(d,c):e&&u(c)?(d[b]=c):!e&&(b in d||u(c))?(d[b]=c):d.setAttribute(b,c);else{for(var f in b)n(d,f,b[f])}}var o=function(a){return document.createTextNode(a)};function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d!==0&&!d){continue}typeof d==='function'?d(a):s(d)||t(d)?a.appendChild(o(d)):v(r(d))?h(a,d):d.length?p(a,d):typeof d==='object'&&n(a,d)}}var q=function(a){return s(a)?y(a):r(a)},r=function(a){return a.nodeType&&a||!a.el&&a||r(a.el)},s=function(a){return typeof a==='string'},t=function(a){return typeof a==='number'},u=function(a){return typeof a==='function'},v=function(a){return a&&a.nodeType},w={},x=function(a){return w[a]||(w[a]=f(a))};function y(a){var b=arguments,c=[],d=arguments.length-1;while(d-->0)c[d]=b[d+1];var e;if(s(a))e=x(a).cloneNode(!1);else if(v(a))e=a.cloneNode(!1);else{throw new Error('At least one argument required')};p(e,c);return e}y.extend=function(a){var b=x(a);return y.bind(this,b)};var z=y;function A(a,b){if(b.length===undefined){return A(a,[b])}var c=r(a),d=c.firstChild;for(var e=0;e<b.length;e++){var f=b[e];if(!f){continue}var g=r(f);if(g===d){d=d.nextSibling;continue}h(a,f,d)}while(d){var j=d.nextSibling;i(a,d);d=j}}var B=function d(a,b,c){this.el=q(a);this.Views=b;this.initData=c};B.prototype.update=function c(a,b){if(a!==this.route){var d=this.Views,e=d[a];this.view=e&&new e(this.initData,b);this.route=a;A(this.el,[this.view])}this.view&&this.view.update&&this.view.update(b,a)};var F=function(a,b,c){var d=new window.CustomEvent('redom',{bubbles:!0,detail:{type:b,data:c}}),e=a.el||a;e.dispatchEvent(d)},G=function(a,b){var c=a.el||c,d=function(a){var c=a.detail,d=c.type,e=c.data;b[d]&&b[d](e)};c.addEventListener('redom',d);return{destroy:function a(){c.removeEventListener('redom',d)}}},H=function a(){this.el=z('h1','Hello ',this.subject=o('RE:DOM'),'!')};H.prototype.update=function b(a){var c=a.subject;this.subject.textContent=c||'RE:DOM';this.data=a};var I=function a(){var b=this;this.el=z('.app',this.hello=new H(),this.input=z('input',{autofocus:!0,oninput:function(a){return F(b,'hello',b.input.value)},placeholder:'RE:DOM'}));this.data={}};I.prototype.update=function b(a){var c=a.hello;this.hello.update(c);this.data=a};var J=function a(){this.data={}};J.prototype.get=function b(a){if(!a){return this.data}var c=a.split('.'),d=this.data;for(var e=0;e<c.length;e++){var f=c[e];if(f in d)d=d[f];else{return}}return d};J.prototype.set=function c(a,b){var d=a.split('.'),e=this.data=Object.assign({},this.data);for(var f=0;f<d.length;f++){var g=d[f];f===d.length-1?(e[g]=b):(e=e[g]=Object.assign({},e[g]))}};var K=function(a){var b=new J(),c;G(a,{hello:function b(a){d('hello.subject',a)}});var d=function(d,e){b.set(d,e);c||(c=window.requestAnimationFrame(function(){c=!1;a.update(b.get())}))}},L=new I();K(L);h(document.body,L)}()